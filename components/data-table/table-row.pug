//- -----------------------------------------------
//- opening dialog
//- -----------------------------------------------
+iff('isOpeningNow(tableview_visible[i].id)')
    td(colspan="{{ colNames.length }}")
        .dimmable 
            .ui.inverted.dimmer(class-active="openingRow" slide-in="true")
                .ui.active.large.text.loader
                    p {{ openingRowMsg }}
                    btn.small.inverted.red.icon(on-click="closeRow" tooltip="Kapat") #[i.remove.icon] Cancel
            .data-table-opened-row(slide-in="true")
                p TODO: Add "viewForm" template here.
                //- FIXME: Below viewForm partial should not be added here as is
                //- because it might trigger lots of database operations, create 
                //- class instances etc. So it is causing performance issues. 
                //- Find a way to overcome this problem.
                //-+apply('viewForm')

//- -----------------------------------------------
//- edit form
//- -----------------------------------------------
+elif('isEditingRow(.id)')
    td(colspan="{{ colNames.length }}")
        .data-table-opened-row
            +apply('editForm')

//- -----------------------------------------------
//- view form
//- -----------------------------------------------
+elif('isViewingRow(.id)')
    td(colspan="{{ colNames.length }}")    
        .data-table-opened-row
            +apply('viewForm')
    
//- -----------------------------------------------
//- normal rows 
//- -----------------------------------------------
+else
    +each(".cols:colindex")
        +if('colNames[colindex]')
            td(data-th="{{colNames[colindex]}}")
                +iff('colindex === 0 && isLastClicked(tableview_visible[i].id)')
                    +if('! openingRow')
                        +iff('isOpeningNow(tableview_visible[i].id)')
                            //- if row is opening, mark first column with teal ribbon label 
                            .ui.teal.ribbon.label
                                +apply('renderMarkup')
                        +else
                            //- if row is opening, mark first column with orange ribbon label 
                            .ui.orange.ribbon.label
                                +apply('renderMarkup')
                        +endif
                +else
                    +apply('renderMarkup')
                +endif
+endif
