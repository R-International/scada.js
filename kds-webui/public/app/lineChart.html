<!doctype html>
<html lang='en-GB'>

<head>
    <meta charset='utf-8'>
    <title>TEST PAGE</title>
    <script src="scripts/ractive.js"></script>
    <script src="scripts/livescript.js"></script>
    <script src="scripts/prelude-browser-min.js"></script>
    <script type="text/ls" src="lineChart.ls"></script>
    <script src="scripts/jquery-1.12.0.min.js"></script>
    <script src="scripts/jQuery.Soap.js"></script>
</head>

<body style="margin:0px;">
 <div id="myProgress" style="display:none;">
        <div id="myBar"></div>
    </div>
    <h1>test Line Chart</h1>

    <div id='example_container'></div>
        <script id='mainTemplate' type="text/ractive">
        <select value='{{ kdsProductId }}' on-change='getKdsData'>
        <option value='all' >All</option>
        {{# products:num }}
        <option value='{{ .["id"] }}'>{{num}} is {{ .["name"] }}</option>
        {{/ products }}
        </select>
        <p>Selected: {{kdsProductId}} </p>
        <linechart val="{{kdsProductId}}"/>
       <!--  <stackedbarchart val="2426"/>
        <stackedbarchart val="2458"/> -->
    </script>

    <script id='linechart' type='text/ractive'>

        <svg class="wrapper">

      <!-- gradient - higher temperatures are redder, lower temperatures are bluer -->
      <defs>
        <linearGradient id='gradient' x2='0' y2='100%' gradientUnits='userSpaceOnUse'>
          <stop offset='0%' stop-color='rgb(255,0,0)' />
          <stop offset='100%' stop-color='rgb(0,0,255)' />
        </linearGradient>
      </defs>

      <!-- horizontal line representing freezing -->
      <g transform='translate( 0, {{ yScale(0) }} )'>
        <line class='freezing' x2='{{width}}'/>
        <text class='freezing-label-bg' x='{{ xScale(6) }}' y='0.3em'>freezing</text>
        <text class='freezing-label' x='{{ xScale(6) }}' y='0.3em'>freezing</text>
      </g>

      <!-- the band -->
      <polygon fill='url(#gradient)' stroke='url(#gradient)' class='temperature-band' points='{{points}}'/>

      {{#each temperatures :i}}
        <!-- point markers for average highs -->
        <g class='marker' transform='translate({{ xScale(i+0.5) }},{{ yScale(high) }})'>
          <circle r='2'/>
          <text y='-10'>{{ format(high) }}</text>
        </g>


      {{/each}}
    </svg>

    </script>

    <style>
    .bar {
        cursor: pointer;
        font-family: Helvetica, sans-serif;
    }
    .bar text {
        color: yellow;
    }
    .bar:hover,
    .bar:focus {
        fill: green;
    }
    </style>

    <script>
        require("LiveScript").go()
    </script>

</body>
</html>
