<!doctype html>
<html lang='en-GB'>

<head>
    <meta charset='utf-8'>
    <title>Interactive Table Example</title>
    <script src="scripts/ractive.js"></script>
    <script src="scripts/ractive.single-double-click.js"></script>
    <script src="scripts/livescript.js"></script>
    <script src="scripts/prelude-browser-min.js"></script>
    <script src="scripts/ractive-bootstrap.js"></script>
    <script src="scripts/jquery-1.12.0.min.js"></script>
    <script src="scripts/jQuery.Soap.js"></script>
    <link rel="stylesheet" href="scripts/bootstrap.min.css" >
    <link rel="stylesheet" href="scripts/bootstrap-theme.min.css" >
    <script src="scripts/bootstrap.min.js" ></script>

    <script type="text/ls" src="table.ls"></script>
</head>

<body>

    <h1>Table-Page</h1>

    <div id='main-output'></div>
    <script id='main-template' type="text/ractive" >
        <interactive-table cols="Tarih, Sipariş No, Şube, Ürün Sayısı, Tutar (TL)", data="{{ myTableData }}" />
        <interactive-table cols="Tarih, Sipariş NUMARASI, Şube, Ürün HELEHELE, Tutar (USD)", data="{{ myTableData }}" />
    </script>

    <script id='interactive-table' type='text/ractive'>
        <b-table>
            <thead>
                <tr>
                    {{#if clickedIndex !== null}}
                        <th>Editing...</th>
                    {{/if}}
                    <th>#</th>
                    {{#each columnList}}
                        <th>{{ . }}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each data:i}}
                    <tr class="input-line {{#if editable && (clickedIndex === i)}}bg-danger{{/if}} {{#if clickedIndex === i}}bg-warning{{/if}}" on-doubleclick="activated">
                        {{#if clickedIndex === i }}
                            <td>
                                <input type='checkbox' checked='{{editable}}'> <icon-pencil/>
                                <span on-click="hideMenu"><btn type="success block"><icon-ok/> Hide</btn></span>
                            </td>
                        {{/if}}
                        <td>{{i+1}}</td>
                        {{#each columnList:j}}
                            <td><div style="display: inline; border: none" contenteditable="{{ editable && (clickedIndex === i) }}" value='{{ data[i][j] }}'></div></td>
                        {{/each}}
                    </tr>
                {{/each}}
            </tbody>
        </b-table>
    </script>
    <script>
        require("LiveScript").go()
    </script>
</body>
</html>
