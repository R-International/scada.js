<!doctype html>
<html lang='en-GB'>
<head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width; target-densitydpi=device-dpi; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <title>Ürün İade</title>
    <script src="scripts/ractive.js"></script>
    <script src="scripts/ractive.single-double-click.js"></script>
    <script src="scripts/livescript.js"></script>
    <script src="scripts/prelude-browser-min.js"></script>
    <script src="scripts/ractive-bootstrap.js"></script>
    <script src="scripts/jquery-1.12.0.min.js"></script>
    <script src="scripts/jQuery.Soap.js"></script>
    <link rel="stylesheet" href="scripts/bootstrap.min.css" >
    <link rel="stylesheet" href="scripts/bootstrap-theme.min.css" >
    <script src="scripts/bootstrap.min.js" ></script>

    <script type="text/ls" src="urun-iade.ls"></script>
</head>
<body>
    <div id='main-output'></div>
    <script id='main-template' type="text/ractive">
        <row>
            <col-md-4></col-md-4>
            <col-md-4>
                <h1>Ürün İade</h1>
            </col-md-4>
            <col-md-4></col-md-4>
        </row>

        <row>
            {{# returnReasons:i}}
                <col-md-2>
                    <h4 class="text-right"><tag>{{ .["name"] }}</tag></h4>
                </col-md-2>
                <col-md-10>
                    <stacked-bar-chart data="{{convertReasonToSbc(.['returnReasons'])}}">
                </col-md-10>
            {{/ returnReasons}}
        </row>
    </script>

    <script id='stackedchart' type='text/ractive'>
        <svg class="chart" width="1200" height="40" aria-labelledby="title desc" role="img">
        {{#each getGraphData(data):i}}
            <g class="bar" on-mouseover='set("selected", i)' on-mouseout='set("selected", null)'>
                <rect width="{{amount * 5}}"  height="38" y="0" x="{{startX*5}}" style="fill: {{ getColor(i) }}" ></rect>
                <text font-family="monospace" font-weight="bold" font-size="15" fill="white"
                    text-anchor="middle" x="{{ centerX * 5 }}" y="19"  dy=".35em" >{{amount}}</text>
            </g>
        {{/each }}
        </svg>
    </script>

    <script>
        require("LiveScript").go()
    </script>

</body>
</html>
