<!doctype html>
<html lang='en-GB'>

<head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Database Example</title>
    <script src="vendor.js"></script>
    <link rel="stylesheet" href="vendor.css" >
</head>

<body>

    <div id='main-output'></div>
    <script id='main-template' type="text/ractive" >

        <ul>
            <li>Name: <input value="{{newSales.name}}" /></li>
            <li>date: <input value="{{newSales.date}}" /></li>
        </ul>
        <button on-click="addSalesEntry">Add sales entry!</button>

        <h2> Sales entries: </h2>
        <interactive-table tabledata="{{ salesEntries }}" cols="a, b" db="{{mydb}}"/>


        <ul>
        {{# materials}}
            <li>Material: {{.}}</li>
        {{/ materials}}
        </ul>

    </script>


    <script id='interactive-table' type='text/ractive'>
        <modal-custom id="{{id}}-modal" backdrop="true" keyboard="false">
        	<modal-header>
        		<icon-exclamation-sign/> <i>Düzenlemek mi istediniz?</i>
        	</modal-header>
        	<modal-body>
                Düzenlemek için kalem işaretini (<icon-pencil/>) kullanın...
        	</modal-body>
        	<modal-footer>
        		<btn type="primary block" on-buttonclick="closeModal">Got it!</btn>
        	</modal-footer>
        </modal-custom>
        <b-table>
            <thead>
                <tr>
                    {{#if clickedIndex !== null}}
                        <th>Editing...</th>
                    {{else}}
                        <th>#</th>
                    {{/if}}
                    {{#each columnList}}
                        <th>{{ . }}</th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each tabledata:i}}
                    <tr class="input-line {{#if isEditingLine(i)}}danger{{/if}} {{#if clickedIndex === i}}warning{{/if}}" on-doubleclick="activated">
                        {{#if clickedIndex === i }}
                            <td>
                                <btn-group type="xs">
                                    <btn on-buttonclick="toggleEditing" type="{{#if editTooltip }}danger{{else}}default{{/if}}" active="{{editable}}" >
                                        {{#if editable}}
                                            <icon-check/>
                                        {{else}}
                                            <icon-unchecked/>
                                        {{/if}}
                                        <icon-pencil/>
                                    </btn>
                                    <btn type="success" on-buttonclick="saveAndExit"><icon-ok/></btn>
                                    <btn type="info" on-buttonclick="revert"><icon-remove/></btn>
                                </btn-group>
                            </td>
                        {{else}}
                            <td>{{i+1}}</td>
                        {{/if}}
                        <td>
                            {{#if isEditingLine(i)}}
                                <input  class="form-control" type="text" value="{{ tabledata[i]["name"] }}">
                            {{else}}
                                {{ tabledata[i]["name"] }}
                            {{/if}}
                        </td>
                        <td>
                            {{#if isEditingLine(i)}}
                                <input  class="form-control" type="text" value="{{ tabledata[i]["date"] }}">
                            {{else}}
                                {{ tabledata[i]["date"] }}
                            {{/if}}
                        </td>

                    </tr>
                {{/each}}
            </tbody>
        </b-table>
    </script>
    <script src="database-conf.js"></script>
    <script src="database-example.js"></script>

</body>
</html>
