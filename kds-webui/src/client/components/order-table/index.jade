+component('order-table')
    +partial('edit-form')
        panel(title="Yeni Sipariş Ekle" type="primary")
            // {{ JSON.stringify(currOrder) }}
            form-vertical
                form-group
                    span Müşteri: 
                    input(value="{{ currOrder.client }}")
                form-group
                    span Teslim Tarihi: 
                    input(value="{{ currOrder.dueDate }}")
                +each('currOrder.entries:i')
                    form-group
                        span Type
                        input(value="{{ .['type'] }}")
                        input(value="{{ .['amount'] }}")
                        btn(on-buttonclick="deleteOrder" value="{{ i }}")
                            icon-remove
                form-group
                    btn(on-buttonclick="addNewEntry")
                        icon-plus 
                        span Kalem Ekle
            btn(on-buttonclick="addNewOrderClose") Close!
            btn(on-buttonclick="addNewOrderSave") Save!

    b-table 
        thead 
            tr.
                {{#if clickedIndex !== null}}
                    <th>Editing...</th>
                {{else}}
                    <th>#</th>
                {{/if}}
                {{#each columnList}}
                    <th>{{ . }}</th>
                {{/each}}

        tbody
            tr
                td(colspan="{{ columnList.length + 1 }}")
                    +unless('addingNew')
                        btn(on-buttonclick="addNewOrder")
                            icon-plus
                            span Yeni sipariş ekle
                    +if('addingNew') 
                        | {{>edit-form}}

            +each('showData:i').
                <tr class="input-line {{#if isEditingLine(i)}}danger{{/if}} {{#if clickedIndex === i}}warning{{/if}}" on-doubleclick="activated">
                    {{#if clickedIndex === i }}
                        <td>
                            <btn-group-vertical>
                                <btn on-buttonclick="toggleEditing" type="{{#if editTooltip }}danger{{else}}default{{/if}}" active="{{editable}}" >
                                    {{#if editable}}
                                        <icon-check/>
                                    {{else}}
                                        <icon-unchecked/>
                                    {{/if}}
                                    <icon-pencil/>
                                </btn>
                                <btn type="success" on-buttonclick="saveAndExit"><icon-ok/></btn>
                                <btn type="info" on-buttonclick="revert"><icon-remove/></btn>
                            </btn-group-vertical>
                        </td>
                    {{else}}
                        <td>{{i+1}}</td>
                    {{/if}}
                    {{#if isEditingLine(i)}}
                        <td colspan="{{ columnList.length }}">{{>edit-form}}</td>
                    {{else}}
                        {{#each showData[i]:j}}
                            <td>{{ showData[i][j] }}</td>
                        {{/each}}
                    {{/if}}
                </tr>
